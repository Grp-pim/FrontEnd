<section id="createTestSection">
  <p-toast></p-toast>
</section>

<section cz-shortcut-listen="true">
  <div class="container-fluid">
    <div class="row">
      <nav
        id="sidebarMenu"
        class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"
      >
        <div class="position-sticky pt-3">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a
                class="nav-link active"
                aria-current="page"
                (click)="changeTab('Dashboard')"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-home"
                  aria-hidden="true"
                >
                  <path
                    d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                  ></path>
                  <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
                Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" (click)="changeTab('Create Test or Quiz')">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-file"
                  aria-hidden="true"
                >
                  <path
                    d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"
                  ></path>
                  <polyline points="13 2 13 9 20 9"></polyline>
                </svg>
                Create Test
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" (click)="changeTab('Tests && Quiz Tables')">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-file-text"
                  aria-hidden="true"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Tests && Quiz Tables
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" (click)="changeTab('Candidats')">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-users"
                  aria-hidden="true"
                >
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                  <circle cx="9" cy="7" r="4"></circle>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                </svg>
                Candidats
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-bar-chart-2"
                  aria-hidden="true"
                >
                  <line x1="18" y1="20" x2="18" y2="10"></line>
                  <line x1="12" y1="20" x2="12" y2="4"></line>
                  <line x1="6" y1="20" x2="6" y2="14"></line>
                </svg>
                Reports
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-layers"
                  aria-hidden="true"
                >
                  <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                  <polyline points="2 17 12 22 22 17"></polyline>
                  <polyline points="2 12 12 17 22 12"></polyline>
                </svg>
                Integrations
              </a>
            </li>
          </ul>

          <h6
            class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"
          >
            <span>Saved reports</span>
            <a class="link-secondary" aria-label="Add a new report">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-plus-circle"
                aria-hidden="true"
              >
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="16"></line>
                <line x1="8" y1="12" x2="16" y2="12"></line>
              </svg>
            </a>
          </h6>
          <ul class="nav flex-column mb-2">
            <li class="nav-item">
              <a class="nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-file-text"
                  aria-hidden="true"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Current month
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-file-text"
                  aria-hidden="true"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Last quarter
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-file-text"
                  aria-hidden="true"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Social engagement
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-file-text"
                  aria-hidden="true"
                >
                  <path
                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                  ></path>
                  <polyline points="14 2 14 8 20 8"></polyline>
                  <line x1="16" y1="13" x2="8" y2="13"></line>
                  <line x1="16" y1="17" x2="8" y2="17"></line>
                  <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                Year-end sale
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- components -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="chartjs-size-monitor">
          <div class="chartjs-size-monitor-expand"><div class=""></div></div>
          <div class="chartjs-size-monitor-shrink"><div class=""></div></div>
        </div>

        <div
          class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
        >
          <h1 class="h2">{{ selectedTab }}</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group me-2">
              <button type="button" class="btn btn-sm btn-outline-secondary">
                Share
              </button>
              <button type="button" class="btn btn-sm btn-outline-secondary">
                Export
              </button>
            </div>
            <button
              type="button"
              class="btn btn-sm btn-outline-secondary dropdown-toggle"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="feather feather-calendar"
                aria-hidden="true"
              >
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
              </svg>
              This week
            </button>
          </div>
        </div>

        <!-- Dashboard -->
        <div *ngIf="selectedTab === 'Dashboard'">
          <div class="container-fluid">

            <div class="card">
              <p-table
                [value]="tests"
                [paginator]="true"
                [rows]="5"
                [showCurrentPageReport]="true"
                [tableStyle]="{ 'min-width': '30rem' }"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                [rowsPerPageOptions]="[5, 10, 20]"
              >
                <ng-template pTemplate="header">
                  <tr>
                    <th style="width: 30%">Name</th>
                    <th style="width: 30%">Description</th>
                    <th style="width: 8%">Difficulty</th>
                    <th style="width: 8%">type</th>
                    <th style="width: 8%">Duration</th>
                    <!-- <th style="width: 25%">Id</th> -->
                    <th style="width: 15%">Created at</th>
                    <th style="width: 8%"></th>
                    <th style="width: 8%"></th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-test>
                  <tr>
                    <td>{{ test.name }}</td>
                    <td>{{ test.description }}</td>
                    <td>{{ test.difficulty }}</td>
                    <td>
                      <p-tag
                        [severity]="test.type === 'Quiz' ? 'danger' : 'primary'"
                        [value]="test.type"
                      ></p-tag>
                    </td>
                    <td>{{ test.duration }}</td>
                    <!-- <td>{{ test._id }}</td> -->
                    <td>{{ test.createdAt | date }}</td>
                    <td>
                      <div class="d-flex">
                        <button
                          type="button"
                          class="btn btn-success mr-2"
                          (click)="previewTestLink(test._id, test.type)"
                        >
                          Preview
                        </button>
                      </div>
                    </td>
                    <td>
                      <div class="d-flex">
                        <button
                          type="button"
                          class="btn btn-success mr-2"
                          (click)="toTestDetails(this.test._id,this.test.type)"
                        >
                          Details
                        </button>
                      </div>
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>

        <!-- Create Test -->
        <div *ngIf="selectedTab === 'Create Test or Quiz'">
          <div class="container-fluid" *ngIf="currentStep === 1">
            <br />
            <div class="mb-3">
              <label for="formGroupExampleInput" class="form-label"
                >1-Name of the test</label
              >
              <input
                type="text"
                class="form-control"
                id="formGroupExampleInput"
                placeholder="type the name of the test"
                [(ngModel)]="Test.name"
              />
            </div>

            <p>2-What is the type :</p>
            <div class="diffForm">
              <div class="flex align-items-center">
                <p-radioButton
                  value="Code"
                  [(ngModel)]="testType"
                ></p-radioButton>
                <label for="Code">Code</label><br />
              </div>

              <div class="flex align-items-center">
                <p-radioButton
                  value="Quiz"
                  [(ngModel)]="testType"
                ></p-radioButton>
                <label for="Quiz">Quiz</label>
              </div>
            </div>

            <p>2-What is the difficulty :</p>
            <div class="diffForm">
              <div class="flex align-items-center">
                <p-radioButton
                  name="difficulty"
                  value="Easy"
                  [(ngModel)]="selectedDifficulty"
                ></p-radioButton>
                <label for="easy">Easy</label><br />
              </div>

              <div class="flex align-items-center">
                <p-radioButton
                  name="difficulty"
                  value="Medium"
                  [(ngModel)]="selectedDifficulty"
                ></p-radioButton>
                <label for="medium">Medium</label>
              </div>

              <div class="flex align-items-center">
                <p-radioButton
                  name="difficulty"
                  value="Hard"
                  [(ngModel)]="selectedDifficulty"
                ></p-radioButton>
                <label for="hard">Hard</label>
              </div>
            </div>

            <br />
            <div class="btnContainer1">
              <button
                type="button"
                class="btn btn-primary btn-block"
                (click)="nextStep()"
              >
                Next step: choose skills
                <i class="bi bi-arrow-right"></i>
              </button>
              <button
                type="button"
                class="btn btn-warning btn-block"
                (click)="changeTab('Dashboard')"
              >
                List tests
                <i class="bi bi-arrow-right"></i>
              </button>
            </div>
          </div>

          <div class="container-fluid" *ngIf="currentStep === 2">
            <br />
            <div class="mb-3">
              <label for="formGroupExampleInput" class="form-label"
                >3-Description of the test</label
              >
              <input
                type="text"
                class="form-control"
                id="formGroupExampleInput"
                placeholder="type the description of the test"
                [(ngModel)]="Test.description"
              />
            </div>
            <p>4. Which skills do you want to test?</p>

            <div class="diffForm">
              <div class="flex align-items-center">
                <p-radioButton
                  name="language"
                  value="Java"
                  [(ngModel)]="selectedLanguage"
                ></p-radioButton>
                <label for="easy">Java</label><br />
              </div>

              <div class="flex align-items-center">
                <p-radioButton
                  name="language"
                  value="Python"
        
                  [(ngModel)]="selectedLanguage"
                ></p-radioButton>
                <label for="medium">Python</label>
              </div>

              <div class="flex align-items-center">
                <p-radioButton
                  name="language"
                  value="C++"

                  [(ngModel)]="selectedLanguage"
                ></p-radioButton>
                <label for="hard">C++</label>
              </div>
              <div class="flex align-items-center">
                <p-radioButton
                  name="language"
                  value="Php"

                  [(ngModel)]="selectedLanguage"
                ></p-radioButton>
                <label for="hard">Php</label>
              </div>
            </div>

            <br />
            <p>5. Choose the duration (in minutes)</p>
            <mat-chip-listbox aria-label="Duration selection">
              <mat-chip highlighted (click)="selectDuration(5)">5</mat-chip>
              <mat-chip highlighted (click)="selectDuration(10)">10</mat-chip>
              <mat-chip (click)="selectDuration(15)">15</mat-chip>
              <mat-chip (click)="selectDuration(20)">20</mat-chip>
            </mat-chip-listbox>

            <br />
            <div class="btnContainer row">
              <button
                type="button"
                class="btn btn-default btn-block col-sm-2"
                (click)="previousStep()"
              >
                Back
              </button>
              <button
                type="button"
                class="btn btn-primary btn-block col-sm-10"
                (click)="createTest()"
              >
                Create my test

                <i class="bi bi-arrow-right"></i>
              </button>
              <button
                type="button"
                class="btn btn-warning btn-block"
                (click)="changeTab('Dashboard')"
              >
                List tests
                <i class="bi bi-arrow-right"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Tests && Quiz Tables -->
        <div *ngIf="selectedTab === 'Tests && Quiz Tables'"></div>

        <!-- Candidats -->
        <div *ngIf="selectedTab === 'Candidats'"></div>
      </main>
    </div>
  </div>

  <script
    src="/docs/5.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"
  ></script>

  <script
    src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js"
    integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"
    integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha"
    crossorigin="anonymous"
  ></script>
  <script src="dashboard.js"></script>
</section>